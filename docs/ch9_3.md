[back](ch9.md) | [main menu](../README.md)
 
## 9.3 Packages

Program: [P01.java](/ch9_extras/ch9_3_packages)

The main folder in the previous programs is becoming clogged up with many classes. In Java, packages can be used to tidy all this up. Using packages is a way to create namespaces for the classes we have produced so far. 

You have been using packages in all the previous programs that you have written. For example, you have used lines like `import java.awt.*;` and `import com.jogamp.opengl.util.FPSAnimator;`. 

You can create your own packages. Practically, this involves moving collections of classes into subfolders. Consider a subfolder called `name` (the named package). The text `package name;` must then be the first line of each of the classes in the subfolder. The aim is to keep related classes together. 

Let's rework ch8_sg\ch8_2_stack\SG02.java and all its classes and rename the main program as P01.java.

In our example, we can move the classes for the scene graph into a package called `gscenegraph`, the mesh classes into a package called `gmesh` and all the remaining classes that form the core of the model, material, texture and rendering classes into a package called `gcommon`. This produces the folder structure illustrated in Figures 9.1 and 9.2. 

```
- main folder
  - assets
    - shaders
      - a shader file
      - another shader file, etc
    - textures
      - a texture file
      - another texture file, etc
  - gcommon
    - Camera.java
    - Light.java
    - Material.java
    - MaterialConstants.java
    - Model.java
    - Renderer.java
    - Shader.java
    - TextureLibrary.java
  - gmaths
    - Vec2.java
    - Vec3.java
    - Vec4.java
    - Mat4.java
    - Mat4Transform.java
  - gmesh
    - Cube.java
    - Mesh.java
    - Sphere.java
    - TwoTriangles.java
  - gscenegraph
    - SGModelNode.java
    - SGNameNode.java
    - SGNode.java
    - SGTransformNode.java
  - P01.java
  - P01_GLEventListener.java
```

**Figure 9.1.** The folder structure for folder ch9_3_packages. Indentation is used to show subfolders and further indentation shows the files or further subfolders.

```
- main folder
  - assets
  - gcommon
  - gmaths
  - gmesh
  - gscenegraph
  - P01.java
  - P01_GLEventListener.java
```

**Figure 9.2.** Collapsing all the subfolders produces a less cluttered look for the main folder

Each file in a package needs to include `package name` as the first line of the file, where `name` is the name of the folder. As an example, for Camera.java, the first line of this file would be `package gcommon;`.

Some of the files also need to import classes from a different package. As examples:

Model.java needs to include the import statements `import gmaths.*;` and `import gmesh.*;` to import the relevant classes from the gmaths and gmesh packages, respectively.

P01_GLEventListener.java needs to include the following import statements since it makes use of classes in all the packages:

```
import gmaths.*;
import gcommon.*;
import gmesh.*;
import gscenegraph.*;
```

Compiling a package is done from the folder above the package folder. Thus the following command would be used to compile the package `gcommon` which is a subfolder of ch9_3_packages:

```
prompt for your PC\ch9_3_packages> javac ... gcommon/*.java
```

where ... is replaced with the usual extras used in previous chapters.

Once all the packages are compiled, then the main program can be compiled:

```
prompt for your PC\ch9_3_packages> javac ... P01.java
```

where ... is replaced with the usual extras used in previous chapters.

All the packages could be wrapped in another folder, e.g. steve, to create steve.gmaths and steve.gcommon, etc. with a dot indicating a level in the package hierarchy. Some care is required when the package hierarchy extends to multiple levels.

There are guidelines for creating, naming and distributing packages that you should adhere to if you intend to make more use of packages. [Oracle has a tutorial](https://docs.oracle.com/javase/tutorial/java/package/index.html) and [Wikipedia gives an introduction to this](https://en.wikipedia.org/wiki/Java_package).

[back](ch9.md) | [main menu](../README.md)
