[back](ch9.md) | [main menu](../README.md)
 
## 9.3 Packages

Program: [P01.java](/ch9_extras/ch9_3_packages)

The main folder in the previous programs is becoming clogged up with many classes. In Java, packages can be used to tidy all this up. This involves moving some of the classes into a subfolder called `name` (the named package) and then using the text `package name` as the first line of each of the classes in this subfolder. For example, we can move the classes for the scene graph into a package called `gscenegraph`, the mesh classes into a package called `gmesh` and all the remaining classes that form the core of the model, material, texture and rendering classes into a package called `gcommon`. This produces a folder structure illustrated in Figures 9.x and 9.x.

```
- main folder
  - assets
    - shaders
      - a shader file
      - another shader file, etc
    - textures
      - a texture file
      - another texture file, etc
  - gcommon
    - Camera.java
    - Light.java
    - Material.java
    - MaterialConstants.java
    - Model.java
    - Renderer.java
    - Shader.java
    - TextureLibrary.java
  - gmaths
    - Vec2.java
    - Vec3.java
    - Vec4.java
    - Mat4.java
    - Mat4Transform.java
  - gmesh
    - Cube.java
    - Mesh.java
    - Sphere.java
    - TwoTriangles.java
  - gscenegraph
    - SGModelNode.java
    - SGNameNode.java
    - SGNode.java
    - SGTransformNode.java
  - P01.java
  - P01_GLEventListener.java
```

**Figure 9.x.** The folder structure for folder ch9_3_packages. Indentation is used to show subfolders and further indentation shows the files or further subfolders.

```
- main folder
  - assets
  - gcommon
  - gmaths
  - gmesh
  - gscenegraph
  - P01.java
  - P01_GLEventListener.java
```

**Figure 9.x.** Collapsing all the subfolders produces a less cluttered look for the main folder

Each file in a package needs to include `package name` as the first line of the file, where `name` is the name of the folder. Thus, for Camera.java, the first line of this file would be `package gcommon;`.

Some of the files also need to import classes from a different package. As examples:

Model.java needs to include the import statements `import gmaths.*;` and `import gmesh.*;` to import the relevant classes from the gmaths and gmesh packages, respectively.

P01_GLEventListener.java needs to include the following import statements:

```
import gmaths.*;
import gcommon.*;
import gmesh.*;
import gscenegraph.*;
```

since it makes use of classes in all the packages.

Compiling a package is done from the folder above the package folder. Thus the following command would be used to compile the package `gcommon` which is a subfolder of ch9_3_packages.

(prompt)...\ch9_3_packages: javac11 gcommon\*.java

Once all the packages are compiled, then the main program can be compiled:

(prompt)...\ch9_3_packages: javac11 P01.java

Here, I have used javac11, which is a Windows batch file I have created to make use of java 11.


---

## MCQs (written in collaboration with Google Gemini)

<p>1. According to the text, what is a key change required to the Material class to support the new PBR rendering process?</p>

<details>
<summary>a) It needs a new method to set the light color to a hard-coded value of (150,150,150).</summary>
<p><b>Incorrect.</b> The text states that this hard-coded light color is set within the Renderer.renderPBR method, not the Material class.</p>
</details>

<details>
<summary>b) It must be updated to include five new texture maps, such as albedo, normal, metallic, roughness, and ambient occlusion.</summary>
<p><b>Correct.</b> The text explicitly states that the "Material needs to be changed to include the five new texture maps" which are declared in a similar way to the previous maps.</p>
</details>

<details>
<summary>c) It needs to be removed entirely and replaced with a new PBRMaterial class to avoid touching the existing rendering process.</summary>
<p><b>Incorrect.</b> The text describes changes to the existing Material class and the introduction of a new Model.renderPBR method, but not a new PBRMaterial class.</p>
</details>

<details>
<summary>d) It must be updated to store and manage multiple lights in an array.</summary>
<p><b>Incorrect.</b> The previous chapter's example (ML01.java) addressed the handling of multiple lights. This text focuses on changes needed for PBR.</p>
</details>

[back](ch9.md) | [main menu](../README.md)