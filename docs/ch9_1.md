[back](ch8.md) | [main menu](../README.md)
 
## 8.1 A stack without using scene graphs

Program: ch8_1_stack_no_sg\SG01no.java

This example stacks a sphere on top of a cube without using scene graphs, as shown in Figure 8.x. The next section will show how to produce this simple example using a scene graph, whilst at the same time explaining the benefits of using a scene graph. Subsequent sections will elaborate on this with more complex examples.

<p align="center">
  <img src="ch8_img/ch8_1_stack.png" alt="a sphere on top of a cube" width="200"><br>
  <strong>Figure 8.x:</strong> A stack of two objects.
</p>

Program Listing 8.x gives the declaration of the pieces, which should be familiar as it follows the same approach as the scene examples from the previous chapter. The key lines to focus on are the creation of the cube and sphere.

A translate and a scale transformation is applied to the cube. The cube is defined with its origin at its centre. Thus, it must be translated by 0.5 in the y axis so that its base sits on the floor. The cube's origin is now at the centre of its base. It is then scaled by 4 in each coordinate axis, giving a cube of size 4x4x4 units sitting on the floor.

The sphere has three transformations. It is lifted by 0.5 in the y axis so its origin is at its base. It is then scaled to a particular size, in this case 3 in the x axis, 5 in the y axis and 3 is the z axis to make an ellipsoid. The origin is still at the base of this ellipsoid. The ellipsoid must then be translate up the y axis so it sits on top of the cube. The cube is 4 units high, so the translation required is 4 in the y axis.

This all seems quite sensible. But, what if we wanted to move the whole structure to a new position on the floor? Do we add the translations to each object? Or could we create a combined object that we could apply the translation to? The next section shows how to do this with a scene graph.

```java
private Model cube;
private Model sphere;
private Model plane;
private Light light;

// textures
private TextureLibrary textures;

public void initialise(GL3 gl) {
  createRandomNumbers();

  textures = new TextureLibrary();
  // add textures

  light = new Light(gl, camera);
  Material m = new Material();
  m.setAmbient(0.3f, 0.3f, 0.3f);
  m.setDiffuse(0.7f, 0.7f, 0.7f);
  m.setSpecular(0.7f, 0.7f, 0.7f);
  light.setMaterial(m);

  plane = makePlane(gl, getM1(), "assets/shaders/fs_standard_d.txt", textures.get("chequerboard"), null, null);
  
  Mat4 mCube = Mat4Transform.translate(0,0.5f,0);
  mCube = Mat4.multiply(Mat4Transform.scale(4,4,4), mCube);
  cube = makeCube(gl, mCube,
                      "assets/shaders/fs_standard_dse.txt", 
                      textures.get("diffuse_container"), textures.get("specular_container"), textures.get("matrix"));

  Mat4 mSphere = Mat4Transform.translate(0,0.5f,0);
  mSphere = Mat4.multiply(Mat4Transform.scale(3,5,3), mSphere);
  mSphere = Mat4.multiply(Mat4Transform.translate(0,4,0), mSphere);
  sphere = makeSphere(gl, mSphere,
                      "assets/shaders/fs_standard_d.txt", 
                      textures.get("cloud"), null, null);
}
```

Program Listing 8.x: ...

---


## MCQs (written in collaboration with Google Gemini)

GLSL???

---

## Exercises

1. ???

[back](ch8.md) | [main menu](../README.md)